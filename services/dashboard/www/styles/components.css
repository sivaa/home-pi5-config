    /* ========================================
       BUTTONS
       ======================================== */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-sm);
      padding: var(--space-sm) var(--space-md);
      border: none;
      border-radius: var(--radius-full);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .btn-primary {
      background: var(--color-primary);
      color: white;
    }

    .btn-secondary {
      background: var(--color-bg);
      color: var(--color-text-secondary);
    }

    .btn-secondary:hover {
      background: var(--color-text-tertiary);
      color: white;
    }

    .btn-secondary.active {
      background: var(--color-primary);
      color: white;
    }

    /* ========================================
       MODAL
       ======================================== */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.85);
      /* backdrop-filter removed for CPU efficiency */
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: var(--z-modal);
      padding: var(--space-lg);
    }

    .modal {
      background: var(--color-surface);
      border-radius: var(--radius-xl);
      width: 100%;
      max-width: 800px;
      max-height: 90vh;
      overflow: hidden;
      box-shadow: var(--shadow-xl);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: var(--space-lg);
      border-bottom: 1px solid var(--color-border);
    }

    .modal-title {
      display: flex;
      align-items: center;
      gap: var(--space-md);
    }

    .modal-title .icon { font-size: var(--font-size-xl); }
    .modal-title h2 { font-size: var(--font-size-lg); font-weight: var(--font-weight-semibold); }

    .modal-close {
      width: 32px; height: 32px;
      border: none;
      background: var(--color-bg);
      border-radius: 50%;
      cursor: pointer;
      font-size: var(--font-size-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--color-text-secondary);
      transition: all var(--transition-fast);
    }

    .modal-close:hover {
      background: var(--color-text-tertiary);
      color: white;
    }

    .modal-body {
      padding: var(--space-lg);
      overflow-y: auto;
      max-height: calc(90vh - 140px);
    }

    .modal-footer {
      padding: var(--space-md) var(--space-lg);
      background: var(--color-bg);
      font-size: var(--font-size-xs);
      color: var(--color-text-tertiary);
      text-align: center;
    }

    .time-range-selector {
      display: flex;
      gap: var(--space-sm);
      margin-bottom: var(--space-lg);
      flex-wrap: wrap;
      align-items: center;
    }

    .modal-stats {
      display: flex;
      gap: var(--space-xl);
      margin-bottom: var(--space-lg);
    }

    .modal-stat { text-align: center; }

    .modal-stat-label {
      font-size: var(--font-size-xs);
      color: var(--color-text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: var(--space-xs);
    }

    .modal-stat-value {
      font-size: var(--font-size-2xl);
      font-weight: var(--font-weight-semibold);
    }

    .modal-stat-value.temp { color: var(--color-primary); }
    .modal-stat-value.humid { color: var(--color-success); }
    .modal-stat-value.minmax { font-size: var(--font-size-lg); color: var(--color-text-secondary); }

    .modal-chart {
      background: var(--color-bg);
      border-radius: var(--radius-md);
      padding: var(--space-md);
      margin-bottom: var(--space-md);
    }

    .modal-chart-title {
      font-size: var(--font-size-xs);
      color: var(--color-text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: var(--space-md);
    }

    .modal-chart svg { width: 100%; height: 180px; }
    .chart-temp { color: var(--color-primary); }
    .chart-humid { color: var(--color-success); }

    .no-data-message {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 180px;
      color: var(--color-text-tertiary);
      font-size: var(--font-size-sm);
      font-style: italic;
    }

    .loading-indicator {
      display: inline-block;
      width: 12px; height: 12px;
      border: 2px solid var(--color-text-tertiary);
      border-top-color: var(--color-primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin { to { transform: rotate(360deg); } }

